{"version":3,"sources":["Pages/PhotoWall/PhotoWall.js"],"names":["textData","content","title","dataArray","image","map","item","Object","D_RCproject_kki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_8__","PhotoWall","props","_this","D_RCproject_kki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","D_RCproject_kki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","D_RCproject_kki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","onImgClick","e","i","picOpen","state","keys","forEach","key","setState","onClose","onTweenEnd","getDelay","index","length","Math","floor","getLiChildren","isEnter","isOpen","left","imgLeft","isRight","isTop","top","imgTop","liStyle","width","height","zIndex","liAnimation","boxShadow","aAnimation","delay","ease","onComplete","bind","D_RCproject_kki_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","imgBoxWidth","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","rc_tween_one__WEBPACK_IMPORTED_MODULE_11__","style","component","className","animation","onClick","alt","src","enter","opacity","duration","type","leave","concat","antd_es_icon__WEBPACK_IMPORTED_MODULE_1__","rc_queue_anim__WEBPACK_IMPORTED_MODULE_10__","interval","React","Component","defaultProps"],"mappings":"qPAOMA,UAAW,CACfC,QAAS,2JAGTC,MAAO,eAELC,EAAY,CACd,CAACC,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,+DACR,CAACA,MAAO,gEAEVD,EAAYA,EAAUE,IAAI,SAAAC,GAAI,OAAAC,OAAAC,EAAA,EAAAD,CAAA,GAASD,EAASN,SAC3BS,cASnB,SAAAA,EAAaC,GAAO,IAAAC,EAAA,OAAAJ,OAAAK,EAAA,EAAAL,CAAAM,KAAAJ,IAClBE,EAAAJ,OAAAO,EAAA,EAAAP,CAAAM,KAAAN,OAAAQ,EAAA,EAAAR,CAAAE,GAAAO,KAAAH,KAAMH,KAMRO,WAAa,SAACC,EAAGC,GAAM,IACdC,EAAWT,EAAKU,MAAhBD,QACPb,OAAOe,KAAKF,GAASG,QAAQ,SAACC,GACxBA,IAAQL,GAAKC,EAAQI,KACvBJ,EAAQI,IAAO,KAGnBJ,EAAQD,IAAK,EACbR,EAAKc,SAAS,CACZL,aAhBgBT,EAoBpBe,QAAU,SAACR,EAAGC,GAAM,IACXC,EAAWT,EAAKU,MAAhBD,QACPA,EAAQD,IAAK,EACbR,EAAKc,SAAS,CACZL,aAxBgBT,EA4BpBgB,WAAa,SAACR,GAAM,IACXC,EAAWT,EAAKU,MAAhBD,eACAA,EAAQD,GACfR,EAAKc,SAAS,CACZL,aAhCgBT,EAoCpBiB,SAAW,SAACV,GACV,IAAMC,EAAID,EAAEW,MAAQ1B,EAAU2B,OAAS,EACvC,OAAQX,EAAI,EAAK,IAA0B,IAApBY,KAAKC,MAAMb,EAAI,GAAW,KAtC/BR,EAyCpBsB,cAAgB,WAKd,OAAO9B,EAAUE,IAAI,SAACC,EAAMa,GAAM,IACzBf,EAAyBE,EAAzBF,MAAOF,EAAkBI,EAAlBJ,MAAOD,EAAWK,EAAXL,QACfiC,EAA2C,mBAA1BvB,EAAKU,MAAMD,QAAQD,GACpCgB,EAASxB,EAAKU,MAAMD,QAAQD,GAE5BiB,EAAOF,EAAU,EAAmBf,EAAI,EAP5B,IAQZkB,EAAUH,EAAyBf,EAAI,EAR3B,IAQgC,EAC5CmB,EAAUP,KAAKC,MAAOb,EAAI,EAAK,GAC/BoB,EAAQR,KAAKC,MAAMb,EAAI,GACzBqB,EAAMD,EAVS,IAUAA,EAAQ,GAAoB,EAC/CC,EAAMN,EAAUM,EAXG,GAWkBD,EACrC,IAAIE,EAASF,EAZM,GAYiB,EACpCE,EAASP,EAAUO,EAAS,EAE5B,IAAMC,EAAUR,EAAU,CAACS,MAAO,OAAQC,OAAQ,OAAQC,OAAQ,GAAK,KACjEC,EAAcX,EACjB,CAACY,UAAW,sCACZ,CAACA,UAAW,oCACXC,EAAad,EACd,CACCe,MAAO,IACPC,KAAM,iBACNP,MA1BW,IA2BXC,OA1BY,GA2BZO,WAAYxC,EAAKgB,WAAWyB,KAAhB7C,OAAA8C,EAAA,EAAA9C,CAAAI,GAA2BQ,GACvCiB,KAAqBjB,EAAI,EA3BX,IA4BdqB,IAAKD,EA3BU,GA2Ba,GACzB,KAWP,OAVAS,EAAab,EACV,CACCe,KAAM,iBACNd,KAAME,EAAWgB,IAAwB,EACzCX,MAAO,MACPC,OAAQ,OACRJ,IAAK,GACFQ,EAILO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACElC,IAAKL,EACLwC,MAAKpD,OAAAC,EAAA,EAAAD,CAAA,CACH6B,OACAI,OACGE,GAELkB,UAAU,KACVC,UAAW1B,EAAS,OAAS,GAC7B2B,UAAWhB,GAEXS,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEE,UAAU,IACVG,QAAS,SAAA7C,GAAC,OAAIP,EAAKM,WAAWC,EAAGC,IACjCwC,MAAO,CACLvB,KAAMC,EACNG,IAAKC,GAEPqB,UAAWd,GAEXO,EAAAC,EAAAC,cAAA,OAAKO,IAAI,GAAGC,IAAK7D,EAAOuC,MAAM,OAAOC,OAAO,UAE9CW,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEQ,MAAO,CACL,CACEC,QAAS,EAAGC,SAAU,EAAGC,KAAM,OAAQpB,MAAO,KAEhD,CAACC,KAAM,eAAgBmB,KAAM,OAAQjC,KAAME,EAAU,MAAQ,OAE/DgC,MAAO,CAACpB,KAAM,iBAAkBd,KAAME,EAAU,MAAQ,MACxDsB,UAAU,IAETzB,GACCoB,EAAAC,EAAAC,cAAA,OACEI,UAAS,GAAAU,OAAK5D,EAAKD,MAAMmD,UAAhB,iBACTrC,IAAI,OACJmC,MAAO,CACLvB,KAAME,EAAU,KAAO,QAGzBiB,EAAAC,EAAAC,cAAA,UAAKvD,GACLqD,EAAAC,EAAAC,cAAAe,EAAA,GAAMH,KAAK,QAAQN,QAAS,SAAA7C,GAAC,OAAIP,EAAKe,QAAQR,EAAGC,MACjDoC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAIxD,SA9HhBU,EAAKU,MAAQ,CACXD,QAAS,IAHOT,wEA0IlB,OACE4C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAWJ,KAAK,SAASR,UAAS,GAAAU,OAAK1D,KAAKH,MAAMmD,UAAhB,WAChCN,EAAAC,EAAAC,cAAA,MAAIjC,IAAI,MAAR,iBACA+B,EAAAC,EAAAC,cAAA,KAAGjC,IAAI,KAAP,iCAEF+B,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CACExB,MAAOpC,KAAKe,SACZgC,UAAU,KACVC,UAAS,GAAAU,OAAK1D,KAAKH,MAAMmD,UAAhB,kBACTa,SAAU,EACVL,KAAK,UAEJxD,KAAKoB,yBAhKuB0C,IAAMC,WAAxBnE,EAKZoE,aAAe,CACpBhB,UAAW","file":"static/js/8.c0f0af59.chunk.js","sourcesContent":["import React from 'react'\r\nimport QueueAnim from 'rc-queue-anim'\r\nimport PropTypes from 'prop-types'\r\nimport TweenOne, { TweenOneGroup } from 'rc-tween-one'\r\nimport { Icon } from 'antd'\r\nimport './photoWall.less'\r\n\r\nconst textData = {\r\n  content: 'Taiwan called motorcycle, motor bike [1] or a motorcycle,' +\r\n    ' the motorcycle referred to in the mainland, Hong Kong and Southeast' +\r\n    ' Asia known as motorcycles.',\r\n  title: 'Motorcycle',\r\n}\r\nlet dataArray = [\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/DGOtoWASeguMJgV.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/BXJNKCeUSkhQoSS.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/TDIbcrKdLWVeWJM.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/SDLiKqyfBvnKMrA.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/UcVbOrSDHCLPqLG.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/QJmGZYJBRLkxFSy.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/PDiTkHViQNVHddN.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/beHtidyjUMOXbkI.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/vJcpMCTaSKSVWyH.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/dvQuFtUoRmvWLsZ.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/QqWQKvgLSJaYbpr.png'},\r\n  {image: 'https://zos.alipayobjects.com/rmsportal/pTfNdthdsUpLPLJ.png'},\r\n]\r\ndataArray = dataArray.map(item => ({...item, ...textData}))\r\nexport default class PhotoWall extends React.Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n  }\r\n\r\n  static defaultProps = {\r\n    className: 'pic-details-demo',\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      picOpen: {},\r\n    }\r\n  }\r\n\r\n  onImgClick = (e, i) => {\r\n    const {picOpen} = this.state\r\n    Object.keys(picOpen).forEach((key) => {\r\n      if (key !== i && picOpen[key]) {\r\n        picOpen[key] = false\r\n      }\r\n    })\r\n    picOpen[i] = true\r\n    this.setState({\r\n      picOpen,\r\n    })\r\n  }\r\n\r\n  onClose = (e, i) => {\r\n    const {picOpen} = this.state\r\n    picOpen[i] = false\r\n    this.setState({\r\n      picOpen,\r\n    })\r\n  }\r\n\r\n  onTweenEnd = (i) => {\r\n    const {picOpen} = this.state\r\n    delete picOpen[i]\r\n    this.setState({\r\n      picOpen,\r\n    })\r\n  }\r\n\r\n  getDelay = (e) => {\r\n    const i = e.index + dataArray.length % 4\r\n    return (i % 4) * 100 + Math.floor(i / 4) * 100 + 200\r\n  }\r\n\r\n  getLiChildren = () => {\r\n    const imgWidth = 110\r\n    const imgHeight = 76\r\n    const imgBoxWidth = 260\r\n    const imgBoxHeight = 96\r\n    return dataArray.map((item, i) => {\r\n      const {image, title, content} = item\r\n      const isEnter = typeof this.state.picOpen[i] === 'boolean'\r\n      const isOpen = this.state.picOpen[i]\r\n\r\n      const left = isEnter ? 0 : imgBoxWidth * (i % 4)\r\n      const imgLeft = isEnter ? imgBoxWidth * (i % 4) : 0\r\n      const isRight = Math.floor((i % 4) / 2)\r\n      const isTop = Math.floor(i / 4)\r\n      let top = isTop ? (isTop - 1) * imgBoxHeight : 0\r\n      top = isEnter ? top : imgBoxHeight * isTop\r\n      let imgTop = isTop ? imgBoxHeight : 0\r\n      imgTop = isEnter ? imgTop : 0\r\n\r\n      const liStyle = isEnter ? {width: '100%', height: '90vh', zIndex: 1} : null\r\n      const liAnimation = isOpen ?\r\n        ({boxShadow: '0 2px 8px rgba(140, 140, 140, .35)'}) :\r\n        ({boxShadow: '0 0px 0px rgba(140, 140, 140, 0)'})\r\n      let aAnimation = isEnter ?\r\n        ({\r\n          delay: 400,\r\n          ease: 'easeInOutCubic',\r\n          width: imgWidth,\r\n          height: imgHeight,\r\n          onComplete: this.onTweenEnd.bind(this, i),\r\n          left: imgBoxWidth * (i % 4),\r\n          top: isTop ? imgBoxHeight : 0,\r\n        }) : null\r\n      aAnimation = isOpen ?\r\n        ({\r\n          ease: 'easeInOutCubic',\r\n          left: isRight ? (imgBoxWidth * 2) - 10 : 0,\r\n          width: '50%',\r\n          height: '90vh',\r\n          top: 0,\r\n        }) : aAnimation\r\n\r\n      // 位置 js 控制；\r\n      return (\r\n        <TweenOne\r\n          key={i}\r\n          style={{\r\n            left,\r\n            top,\r\n            ...liStyle,\r\n          }}\r\n          component=\"li\"\r\n          className={isOpen ? 'open' : ''}\r\n          animation={liAnimation}\r\n        >\r\n          <TweenOne\r\n            component=\"a\"\r\n            onClick={e => this.onImgClick(e, i)}\r\n            style={{\r\n              left: imgLeft,\r\n              top: imgTop,\r\n            }}\r\n            animation={aAnimation}\r\n          >\r\n            <img alt='' src={image} width=\"100%\" height=\"100%\" />\r\n          </TweenOne>\r\n          <TweenOneGroup\r\n            enter={[\r\n              {\r\n                opacity: 0, duration: 0, type: 'from', delay: 400,\r\n              },\r\n              {ease: 'easeOutCubic', type: 'from', left: isRight ? '50%' : '0%'},\r\n            ]}\r\n            leave={{ease: 'easeInOutCubic', left: isRight ? '50%' : '0%'}}\r\n            component=\"\"\r\n          >\r\n            {isOpen && (\r\n              <div\r\n                className={`${this.props.className}-text-wrapper`}\r\n                key=\"text\"\r\n                style={{\r\n                  left: isRight ? '0%' : '50%',\r\n                }}\r\n              >\r\n                <h1>{title}</h1>\r\n                <Icon type=\"cross\" onClick={e => this.onClose(e, i)} />\r\n                <em />\r\n                <p>{content}</p>\r\n              </div>\r\n            )}\r\n          </TweenOneGroup>\r\n        </TweenOne>\r\n      )\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <QueueAnim type=\"bottom\" className={`${this.props.className}-title`}>\r\n          <h1 key=\"h1\">Motion Design</h1>\r\n          <p key=\"p\">The react animation solution</p>\r\n        </QueueAnim>\r\n        <QueueAnim\r\n          delay={this.getDelay}\r\n          component=\"ul\"\r\n          className={`${this.props.className}-image-wrapper`}\r\n          interval={0}\r\n          type=\"bottom\"\r\n        >\r\n          {this.getLiChildren()}\r\n        </QueueAnim>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}